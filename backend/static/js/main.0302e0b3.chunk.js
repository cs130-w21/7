(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/video.044b8bf2.mp4"},145:function(e,t,a){e.exports=a(206)},150:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},162:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(10),i=a.n(o),r=(a(150),a(17)),c=a.n(r),s=a(29),m=a(7),u=a(15),d=(a(153),["btn--primary","btn--outline","btn--outline--black","btn--test"]),p=["btn--medium","btn--large","btn--full"],h=function(e){var t=e.children,a=e.id,n=e.type,o=e.onClick,i=e.buttonStyle,r=e.buttonSize,c=e.disabled,s=d.includes(i)?i:d[0],m=p.includes(r)?r:p[0];return l.a.createElement("button",{className:"btn btn-mobile ".concat(s," ").concat(m),onClick:o,type:n,disabled:c,id:a},t)};a(154);var g=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(!0),r=Object(m.a)(i,2),d=r[0],p=r[1],g=Object(n.useState)(""),E=Object(m.a)(g,2),v=E[0],f=E[1];Object(n.useEffect)(function(){S();var e=localStorage.getItem("token");f(e)},[]);var b=function(){return o(!a)},N=function(){return o(!1)},y=function(){if(null!=v)return fetch("/api/logout/",{method:"DELETE",headers:{Authorization:"Token ".concat(v),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return console.log("User loged out",e.json())})},w=function(){var e=Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:localStorage.clear(),window.location.href="/";case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=function(){window.innerWidth<=960?p(!1):p(!0)};return window.addEventListener("resize",S),1==localStorage.logIn?l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"navbar-container"},l.a.createElement(u.b,{to:"/",className:"navbar-logo",onClick:N},"YummY"),l.a.createElement("div",{className:"menu-icon",onClick:b},l.a.createElement("i",{className:a?"fas fa-times":"fas fa-bars"})),l.a.createElement("ul",{className:a?"nav-menu active":"nav-menu"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/",className:"nav-links",onClick:N},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/recommend",className:"nav-links",onClick:N},"Restaurants")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/event",className:"nav-links",onClick:N},"Events")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/setting",className:"nav-links",onClick:N},"Profile"))),d&&l.a.createElement(h,{id:"login-btn",buttonStyle:"btn--outline",onClick:w},"Log Out")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"navbar-container"},l.a.createElement(u.b,{to:"/",className:"navbar-logo",onClick:N},"YummY"),l.a.createElement("div",{className:"menu-icon",onClick:b},l.a.createElement("i",{className:a?"fas fa-times":"fas fa-bars"})),l.a.createElement("ul",{className:a?"nav-menu active":"nav-menu"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/",className:"nav-links",onClick:N},"Home")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/login",className:"nav-links",onClick:N},"Restaurants")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/login",className:"nav-links",onClick:N},"Event")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{to:"/login",className:"nav-links",onClick:N},"Profile"))),d&&l.a.createElement(h,{id:"login-btn",buttonStyle:"btn--outline",onClick:function(){1==localStorage.logIn?window.location.href="/setting":window.location.href="/login"}},"LOG IN"))))},E=a(12),v=(a(32),a(162),a(100)),f=a.n(v);var b=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(0),r=Object(m.a)(i,2),c=r[0],s=r[1];function u(){window.location.href=1==c?"/recommend":"/login"}return Object(n.useEffect)(function(){var e=localStorage.getItem("logIn");s(e)}),l.a.createElement("div",{className:"video-container"},l.a.createElement("video",{src:f.a,autoPlay:!0,loop:!0,muted:!0}),l.a.createElement("h1",null,"YummY"),l.a.createElement("p",null,"Let us decide for you"),0===a?l.a.createElement("div",{className:"video-btns"},l.a.createElement(h,{id:"bt",className:"btns",buttonStyle:"btn--primary",buttonSize:"btn--large",onClick:function(){1==c?o(1):(console.log("login"),window.location.href="/login")}},"FIND A RESTAURANT")):l.a.createElement("div",{className:"video-btns"},l.a.createElement(h,{id:"bt1",className:"btns",buttonStyle:"btn--primary",buttonSize:"btn--large",onClick:u}," Individual"),l.a.createElement(h,{id:"bt2",className:"btns",buttonStyle:"btn--primary",buttonSize:"btn--large",onClick:u}," Group")))};var N=function(){return l.a.createElement("div",{className:"Home"},l.a.createElement(b,null))},y=a(22),w=a(46),S=a(33),_=a(34),C=a(39),j=a(35),k=a(40),O=a(58),T=a.n(O),x=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(C.a)(this,Object(j.a)(t).call(this,e))).onChange=function(e){a.setState({value:e})},a.state={value:[]},a}return Object(k.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{value:this.state.value,onChange:this.onChange,createChipKeys:["a"],placeholder:this.props.placeholder,suggestions:this.props.data,shouldRenderSuggestions:function(e){return e.length>=0},fromSuggestionsOnly:!1}))}}]),t}(n.Component),F=(a(77),a(181),a(244)),I=a(241),P=a(250),A=a(210),z=a(251),L=a(129),D=["American (Traditional)","Mexican","American (New)","Italian","Chinese","Japanese","Asian Fusion","Indian","Thai","Middle Eastern","Vietnamese","Greek","French","Korean","Caribbean","Latin American","Pakistani","Hawaiian","Lebanese","Taiwanese","Filipino","Spanish","Irish","African","Turkish","Cantonese","Pan Asian","German","Brazilian","Ethiopian","Polish","Malaysian","Arabian","Mongolian"],U=["Restaurants","Fast Food","Sandwiches","Pizza","Breakfast & Brunch","Burgers","Specialty Food","Bakeries","Desserts","Cafes","Ice Cream & Frozen Yogurt","Chicken Wings","Salad","Seafood","Sushi Bars","Beer","Sports Bars","Pubs","Steakhouses","Cocktail Bars","Diners","Ethnic Food","Food Delivery Services","Food Trucks","Soup","Comfort Food","Buffets","Donuts","Tacos","Hot Dogs","Bubble Tea","Chicken Shop","Bagels","Noodles","Tapas/Small Plates","Food Stands","Cupcakes","Soul Food","Fish & Chips","Dim Sum","Cajun/Creole","Ramen","Creperies","Food Court","Bistros","Gelato","Waffles","Hot Pot","Acai Bowls","Kebab","Pretzels"],R=Object(I.a)(function(e){return{root:{flexGrow:5,backgroundColor:e.palette.background.paper,display:"flex",height:"50vh",marginTop:"100px","& .MuiTextField-root":{margin:e.spacing(1),width:"50ch"}},tabs:{marginLeft:"20%",borderRight:"1px solid ".concat(e.palette.divider)},textfields:{paddingTop:10,paddingLeft:20},button:{paddingTop:150,paddingLeft:20},formControl:{margin:e.spacing(1),minWidth:"50ch"},selectEmpty:{marginTop:e.spacing(2)}}}),B=["Type a cuisine (American, Mexican, ...)","Type a food type (Fast Food, Restaurants, Cafes ...)"];function M(){var e=Object(n.useState)({first_name:"",last_name:"",sex:"",age:"",height:"",weight:""}),t=Object(m.a)(e,2),a=t[0],o=t[1],i=R(),r=function(e){o(Object(w.a)({},a,Object(y.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"Create"},l.a.createElement("form",{className:"form",noValidate:!0,autoComplete:"off",onSubmit:function(){console.log(a)}},l.a.createElement("div",{className:i.textfields},l.a.createElement(P.a,{className:i.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"First Name"),l.a.createElement(A.a,{id:"component-simple",name:"first_name",value:a.first_name,onChange:r})),l.a.createElement(P.a,{className:i.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Last Name"),l.a.createElement(A.a,{id:"component-simple",name:"last_name",value:a.last_name,onChange:r}))),l.a.createElement("div",{className:i.textfields},l.a.createElement(P.a,{className:i.formControl},l.a.createElement(z.a,{htmlFor:"uncontrolled-native"},"Sex"),l.a.createElement(L.a,{name:"sex",value:a.sex,onChange:r},l.a.createElement("option",{value:"M"},"Male"),l.a.createElement("option",{value:"F"},"Female"))),l.a.createElement(P.a,{className:i.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Age"),l.a.createElement(A.a,{id:"component-simple",name:"age",value:a.age,onChange:r}))),l.a.createElement("div",{className:i.textfields},l.a.createElement(P.a,{className:i.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Height"),l.a.createElement(A.a,{id:"component-simple",name:"height",value:a.height,onChange:r})),l.a.createElement(P.a,{className:i.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Weight"),l.a.createElement(A.a,{id:"component-simple",name:"weight",value:a.weight,onChange:r}))),l.a.createElement("div",{className:i.textfields},l.a.createElement("h1",null,"Cuisines"),l.a.createElement(x,{placeholder:B[0],data:D}),l.a.createElement("h1",null,"Food Types"),l.a.createElement(x,{placeholder:B[1],data:U})),l.a.createElement("div",{className:i.button},l.a.createElement(F.a,{type:"submit",variant:"contained",size:"medium",color:"primary",className:i.margin},"Submit Profile"))))}a(78);var H=a(130),J=a.n(H);function G(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(""),r=Object(m.a)(i,2),u=r[0],d=r[1],p=J.a.get("XSRF-TOKEN");function g(){return(g=Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/login/",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:a,password:u})}).then(function(e){return e.json()}).then(function(e){localStorage.setItem("token",e.token),localStorage.setItem("email",a),localStorage.setItem("id",e.id)});case 2:"undefined"===localStorage.getItem("token")?(document.getElementById("warning").style.visibility="visible",document.getElementById("warning").textContent="User does not exist or incorrect password"):(console.log("Successfully Loged In"),localStorage.setItem("logIn",1),document.getElementById("warning").style.visibility="hidden",window.location.href="/");case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return console.log(p),l.a.createElement("div",{className:"LogIn"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},l.a.createElement("div",{className:"form-group login-attr",size:"lg",id:"email"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{className:"login-input",autoFocus:!0,type:"email",value:a,onChange:function(e){return o(e.target.value)}})),l.a.createElement("div",{className:"form-group login-attr",size:"lg",id:"password"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{className:"login-input",type:"password",value:u,onChange:function(e){return d(e.target.value)}})),l.a.createElement(h,{id:"login",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:function(){return g.apply(this,arguments)},disabled:!(a.length>0&&a.includes("@")&&u.length>0),type:"submit"},"LOG IN"),l.a.createElement("div",{className:"seperator"}),l.a.createElement(h,{id:"signup",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:function(){window.location.href="/signup"},type:"submit"},"SIGN UP"),l.a.createElement("div",{className:"seperator"}),l.a.createElement("div",{id:"warning",className:"warning-text"},"Wrong Password")))}var V=a(132),W=a(249),Y=a(246),K=a(245),q=a(248),X=a(247);a(182);function Q(e){var t=e.children,a=e.value,n=e.index,o=Object(V.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},o),a===n&&l.a.createElement(q.a,null,l.a.createElement(K.a,{component:"span"},t)))}function Z(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var $=Object(I.a)(function(e){return{root:{flexGrow:5,backgroundColor:e.palette.background.paper,display:"flex",height:"50vh",marginTop:"100px","& .MuiTextField-root":{margin:e.spacing(1),width:"50ch"}},tabs:{marginLeft:"20%",borderRight:"1px solid ".concat(e.palette.divider)},textfields:{paddingTop:10,paddingLeft:20},button:{paddingTop:150,paddingLeft:20},formControl:{margin:e.spacing(1),minWidth:"50ch"},selectEmpty:{marginTop:e.spacing(2)}}});function ee(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),r=Object(m.a)(i,2),u=r[0],d=r[1],p=Object(n.useState)([]),h=Object(m.a)(p,2),g=h[0],E=h[1],v=Object(n.useState)([]),f=Object(m.a)(v,2),b=f[0],N=f[1],S=Object(n.useState)({old_password:"",new_password:""}),_=Object(m.a)(S,2),C=_[0],j=_[1],k=Object(n.useState)(""),O=Object(m.a)(k,2),x=O[0],I=O[1],R=Object(n.useState)(""),B=Object(m.a)(R,2),M=B[0],H=B[1],J=Object(n.useState)({errorPassword:!1,helperTextPassword:"",helperTextSuccess:""}),G=Object(m.a)(J,2),V=G[0],K=G[1],q=Object(n.useState)(!1),ee=Object(m.a)(q,2),te=ee[0],ae=ee[1];Object(n.useEffect)(function(){var e=localStorage.getItem("token"),t=localStorage.getItem("email");null!==x&&function(){var a=Object(s.a)(c.a.mark(function a(){return c.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return o(!0),a.next=3,fetch("/api/profile/get/",{method:"GET",headers:{Authorization:"Token ".concat(e),Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(a){d(a),I(e),H(t),o(!1),console.log(a)});case 3:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()()},[]);var ne=$(),le=l.a.useState(0),oe=Object(m.a)(le,2),ie=oe[0],re=oe[1],ce=function(e){d(Object(w.a)({},u,Object(y.a)({},e.target.name,e.target.value)))},se=function(e){j(Object(w.a)({},C,Object(y.a)({},e.target.name,e.target.value)))},me=function(){var e=Object(s.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),fetch("/api/update_password/",{method:"POST",headers:{Authorization:"Token ".concat(x),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({old_password:C.old_password,new_password:C.new_password})}).then(function(e){return e.json()}).then(function(e){var t=e.message;K("Wrong password"===t?Object(w.a)({},V,{helperTextPassword:"Wrong Password",errorPassword:!0}):Object(w.a)({},V,{errorPassword:!1,helperTextPassword:"",helperTextSuccess:"Successfully Updated Password"}))}),C.old_password="",C.new_password="";case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:ne.root},l.a.createElement(W.a,{orientation:"vertical",variant:"scrollable",value:ie,onChange:function(e,t){re(t)},"aria-label":"Vertical tabs example",className:ne.tabs},l.a.createElement(Y.a,Object.assign({label:"Profile"},Z(0))),l.a.createElement(Y.a,Object.assign({label:"Account Security"},Z(1)))),a?l.a.createElement("div",null,"Loading ..."):l.a.createElement("div",null,l.a.createElement(Q,{value:ie,index:0},l.a.createElement("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),function(){var e=Object(s.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/profile/update/",{method:"PUT",headers:{Authorization:"Token ".concat(x),"Content-Type":"application/json"},body:JSON.stringify(u)}).then(function(e){return e.json()}).then(function(e){ae(function(e){return!e})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()}},l.a.createElement("div",{className:ne.textfields},l.a.createElement(P.a,{className:ne.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"First Name"),l.a.createElement(A.a,{id:"component-simple",name:"first_name",value:u.first_name,onChange:ce})),l.a.createElement(P.a,{className:ne.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Last Name"),l.a.createElement(A.a,{id:"component-simple",name:"last_name",value:u.last_name,onChange:ce}))),l.a.createElement("div",{className:ne.textfields},l.a.createElement(P.a,{className:ne.formControl},l.a.createElement(z.a,{htmlFor:"uncontrolled-native"},"Sex"),l.a.createElement(L.a,{name:"sex",value:u.sex,onChange:ce},l.a.createElement("option",{value:"M"},"Male"),l.a.createElement("option",{value:"F"},"Female"))),l.a.createElement(P.a,{className:ne.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Age"),l.a.createElement(A.a,{id:"component-simple",name:"age",value:u.age,onChange:ce}))),l.a.createElement("div",{className:ne.textfields},l.a.createElement(P.a,{className:ne.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Height"),l.a.createElement(A.a,{id:"component-simple",name:"height",value:u.height,onChange:ce})),l.a.createElement(P.a,{className:ne.formControl},l.a.createElement(z.a,{htmlFor:"component-simple"},"Weight"),l.a.createElement(A.a,{id:"component-simple",name:"weight",value:u.weight,onChange:ce}))),l.a.createElement("div",{className:ne.textfields},l.a.createElement("div",{className:"cuisine-box"},l.a.createElement(z.a,{htmlFor:"uncontrolled-native"},"Cuisines"),l.a.createElement(T.a,{name:"cuisine",value:g,onChange:function(e){E(e)},createChipKeys:["a"],placeholder:"Type a cuisine (American, Mexican, ...)",suggestions:D,shouldRenderSuggestions:function(e){return e.length>=0},fromSuggestionsOnly:!1})),l.a.createElement("div",{className:"cuisine-box"},l.a.createElement(z.a,{htmlFor:"uncontrolled-native"},"Food Type"),l.a.createElement(T.a,{name:"foodtype",value:b,onChange:function(e){N(e)},createChipKeys:["a"],placeholder:"Type a food (Cafe, Bakery, ...)",suggestions:U,shouldRenderSuggestions:function(e){return e.length>=0},fromSuggestionsOnly:!1}))),te&&l.a.createElement("div",{id:"success",className:ne.textfields},"Successfully updated profile"),l.a.createElement("div",{className:ne.button},l.a.createElement(F.a,{type:"submit",variant:"contained",size:"medium",color:"primary",className:ne.margin},"Update Changes")))),l.a.createElement(Q,{value:ie,index:1},l.a.createElement("form",{onSubmit:me},l.a.createElement("div",{className:ne.textfields},l.a.createElement(X.a,{id:"standard-read-only-input",label:"Email",defaultValue:M,InputProps:{readOnly:!0}})),l.a.createElement("div",{className:ne.textfields},l.a.createElement(X.a,{id:"standard-read-only-input",label:"Username",defaultValue:u.username,InputProps:{readOnly:!0}})),l.a.createElement("div",{className:ne.textfields},l.a.createElement(X.a,{error:V.errorPassword,helperText:V.helperTextPassword,id:"standard-password-input",label:"Current Password",type:"password",name:"old_password",value:C.old_password,autoComplete:"current-password",onChange:se})),l.a.createElement("div",{className:ne.textfields},l.a.createElement(X.a,{id:"standard-password-input",helperText:V.helperTextSuccess,label:"New Password",type:"password",name:"new_password",value:C.new_password,autoComplete:"new-password",onChange:se})),l.a.createElement("div",{className:ne.textfields},l.a.createElement("p",null,"*Note: Contact Customer Service to change your email and username.")),l.a.createElement("div",{className:ne.button},l.a.createElement(F.a,{type:"submit",variant:"contained",size:"medium",color:"primary",className:ne.margin},"Update Changes"))))))}function te(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(""),r=Object(m.a)(i,2),c=r[0],s=r[1],u=Object(n.useState)(""),d=Object(m.a)(u,2),p=d[0],g=d[1];function E(e){return e.json()}return l.a.createElement("div",{className:"SignUp"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},l.a.createElement("div",{className:"form-group login-attr",size:"lg"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{className:"login-input",autoFocus:!0,type:"email",value:a,onChange:function(e){return o(e.target.value)}})),l.a.createElement("div",{className:"form-group login-attr",size:"lg"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{className:"login-input",type:"username",value:c,onChange:function(e){return s(e.target.value)}})),l.a.createElement("div",{className:"form-group login-attr",size:"lg"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{className:"login-input",type:"password",value:p,onChange:function(e){return g(e.target.value)}})),l.a.createElement(h,{id:"signup",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:function(){fetch("/api/register/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a,password:p,username:c})}).then(E).then(function(e){"response"in e?"Successfully registered a new user."===e.response?(console.log(e),localStorage.logIn=1,localStorage.token=e.token,localStorage.setItem("id",e.id),window.location.href="/create"):(document.getElementById("warning").style.visibility="visible",document.getElementById("warning").textContent=e.response):(document.getElementById("warning").style.visibility="visible",document.getElementById("warning").textContent="email"in e?e.email[0]:"password"in e?e.password[0]:"username"in e?e.username[0]:"Valid inputs required")}).catch(function(e){console.log("request failed",e)})},type:"submit",disabled:!(a.length>0&&a.includes("@")&&p.length>0&&c.length>0)},"SIGN UP"),l.a.createElement("div",{className:"seperator"}),l.a.createElement("div",{id:"warning",className:"warning-text"},"Wrong Password")))}function ae(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"cards__item"},l.a.createElement(u.b,{className:"cards__item__link",to:e.path},l.a.createElement("figure",{className:"cards__item__pic-wrap","data-category":e.label},l.a.createElement("img",{className:"cards__item__img",alt:"Image",src:e.src})),l.a.createElement("div",{className:"cards__item__info"},l.a.createElement("h5",{className:"cards__item__text"},e.name),l.a.createElement("h5",{className:"cards__item__text"},e.location)))))}function ne(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{className:"cards__item"},l.a.createElement(u.b,{className:"cards__item__link",to:e.path},l.a.createElement("div",{className:"cards__item__info"},l.a.createElement("h3",{className:"cards__item__text"},"Title : ",e.name),l.a.createElement("br",null),l.a.createElement("h5",{className:"cards__item__text"},"Location : ",e.location),l.a.createElement("br",null),l.a.createElement("h5",{className:"cards__item__text"},"Date : ",e.datetime),l.a.createElement("br",null),l.a.createElement("h5",{className:"cards__item__text"},"Description : ",e.description),l.a.createElement("br",null),l.a.createElement("h5",{className:"cards__item__text"},"Attendees : ",e.attendee.map(function(e){return e+" "})),l.a.createElement("br",null)))))}var le=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(C.a)(this,Object(j.a)(t).call(this))).handleLogout=function(){localStorage.clear(),window.location.href="/"},e.state={myEvents:[],otherEvents:[]},e.token=localStorage.getItem("token"),e.loaded=!1,console.log(e.token),e}return Object(k.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/event/get_events",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(this.token)},body:JSON.stringify({name:""})}).then(function(e){return e.json()}).then(function(t){console.log(t),"Token expired"!=t.message&&"Invalid token."!=t.detail||e.handleLogout();var a=[],n=[],l=!1;t.map(function(e){var t=[];e.attendees.map(function(e){t.push(e.username),e.id.toString()==localStorage.getItem("id")&&(l=!0)});var o=new Date(e.datetime).getTime();if((new Date).getTime()<o){var i=e.name,r=new Date(e.datetime),c=r.getUTCFullYear()+"/"+("0"+(r.getUTCMonth()+1)).slice(-2)+"/"+("0"+r.getUTCDate()).slice(-2)+" "+("0"+r.getUTCHours()).slice(-2)+":"+("0"+r.getUTCMinutes()).slice(-2)+":"+("0"+r.getUTCSeconds()).slice(-2),s=e.location,m=e.description;l?a.push({id:e.id,name:i,datetime:c,location:s,description:m,attendee:t,path:"/event_details?id="+e.id}):n.push({id:e.id,name:i,datetime:c,location:s,description:m,attendee:t,path:"/event_details?id="+e.id})}l=!1}),e.loaded=!0,e.setState({myEvents:a,otherEvents:n})})}},{key:"leaveEvent",value:function(e,t){console.log(e)}},{key:"joinEvent",value:function(e,t){console.log(e)}},{key:"getEvents",value:function(e){var t=0,a=e.length,n=Math.ceil(a/3),o=a%3,i=[];for(t=0;t<n;t++){var r;t==n-1&&(1==o?r=l.a.createElement("ul",{key:e[3*t].id,id:"my",className:"cards__items"},l.a.createElement(ne,{name:e[3*t].name,location:e[3*t].location,description:e[3*t].description,datetime:e[3*t].datetime,path:e[3*t].path,attendee:e[3*t].attendee}),l.a.createElement("li",{className:"cards__item"}),l.a.createElement("li",{className:"cards__item"})):2==o&&(r=l.a.createElement("ul",{key:e[3*t].id,id:"my",className:"cards__items"},l.a.createElement(ne,{name:e[3*t].name,location:e[3*t].location,description:e[3*t].description,datetime:e[3*t].datetime,path:e[3*t].path,attendee:e[3*t].attendee}),l.a.createElement(ne,{name:e[3*t+1].name,location:e[3*t+1].location,description:e[3*t+1].description,datetime:e[3*t+1].datetime,path:e[3*t+1].path,attendee:e[3*t+1].attendee}),l.a.createElement("li",{className:"cards__item"})))),void 0==r&&(r=l.a.createElement("ul",{key:e[3*t].id,id:"my",className:"cards__items"},l.a.createElement(ne,{name:e[3*t].name,location:e[3*t].location,description:e[3*t].description,datetime:e[3*t].datetime,path:e[3*t].path,attendee:e[3*t].attendee}),l.a.createElement(ne,{name:e[3*t+1].name,location:e[3*t+1].location,description:e[3*t+1].description,datetime:e[3*t+1].datetime,path:e[3*t+1].path,attendee:e[3*t+1].attendee}),l.a.createElement(ne,{name:e[3*t+2].name,location:e[3*t+2].location,description:e[3*t+2].description,datetime:e[3*t+2].datetime,path:e[3*t+2].path,attendee:e[3*t+2].attendee}))),i.push(r),r=void 0}return i}},{key:"createEvent",value:function(){window.location.href="/create_event"}},{key:"render",value:function(){if(!this.loaded)return l.a.createElement("div",{className:"cards"},l.a.createElement("h2",null,"Loading Event Data..."));var e=this.getEvents(this.state.myEvents),t=this.getEvents(this.state.otherEvents);return l.a.createElement("div",{className:"cards"},l.a.createElement("h2",null,"Your Events"),l.a.createElement("div",{className:"cards__container"},l.a.createElement("div",{className:"cards__wrapper"},e.map(function(e){return e}),l.a.createElement(h,{id:"createEvent",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:this.createEvent},"CREATE AN EVENT"))),l.a.createElement("h2",null,"All other events"),l.a.createElement("div",{className:"cards__container"},l.a.createElement("div",{className:"cards__wrapper"},t.map(function(e){return e}))))}}]),t}(l.a.Component),oe=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(C.a)(this,Object(j.a)(t).call(this))).state={restaurants:[]},e.token=localStorage.getItem("token"),e.loaded=!1,e}return Object(k.a)(t,e),Object(_.a)(t,[{key:"getUserLocation",value:function(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)})}},{key:"componentDidMount",value:function(){var e=Object(s.a)(c.a.mark(function e(){var t,a,n,l,o,i=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserLocation();case 2:t=e.sent,a=t.coords,n=a.latitude,l=a.longitude,void 0!=(o={lat:n,lon:l}).lat&&void 0!=o.lon?fetch("/api/recommendation/?latitude="+o.lat+"&longitude="+o.lon,{method:"GET",headers:{Authorization:"Token ".concat(this.token),"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){if(o="string"==typeof e?JSON.parse(e):e,console.log(o),0==o.length||void 0==o.length)i.loaded=!0,i.setState({restaurants:[]});else{i.loaded=!0;var t=[];o.map(function(e){var a=e.name,n=e.image_url,l=e.categories[0].title,o=e.id,i="";e.location.display_address.map(function(e){i+=e+" "}),t.push({id:o,name:a,src:n,label:l,location:i,path:"/create_event?name="+a+"&location="+i})}),i.setState({restaurants:t})}}):(this.loaded=!0,this.setState({restaurants:[]}));case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getRestaurants",value:function(e){var t=0,a=e.length,n=Math.ceil(a/3),o=a%3,i=[];for(t=0;t<n;t++){var r;t==n-1&&(1==o?r=l.a.createElement("ul",{key:e[3*t].id,id:"my",className:"cards__items"},l.a.createElement(ae,{name:e[3*t].name,location:e[3*t].location,label:e[3*t].label,src:e[3*t].src,path:e[3*t].path}),l.a.createElement("li",{className:"cards__item"}),l.a.createElement("li",{className:"cards__item"})):2==o&&(r=l.a.createElement("ul",{key:e[3*t].id,id:"my",className:"cards__items"},l.a.createElement(ae,{name:e[3*t].name,location:e[3*t].location,label:e[3*t].label,src:e[3*t].src,path:e[3*t].path}),l.a.createElement(ae,{name:e[3*t+1].name,location:e[3*t+1].location,label:e[3*t+1].label,src:e[3*t+1].src,path:e[3*t+1].path}),l.a.createElement("li",{className:"cards__item"})))),void 0==r&&(r=l.a.createElement("ul",{key:e[3*t].id,id:"my",className:"cards__items"},l.a.createElement(ae,{name:e[3*t].name,location:e[3*t].location,label:e[3*t].label,src:e[3*t].src,path:e[3*t].path}),l.a.createElement(ae,{name:e[3*t+1].name,location:e[3*t+1].location,label:e[3*t+1].label,src:e[3*t+1].src,path:e[3*t+1].path}),l.a.createElement(ae,{name:e[3*t+2].name,location:e[3*t+2].location,label:e[3*t+2].label,src:e[3*t+2].src,path:e[3*t+2].path}))),i.push(r),r=void 0}return i}},{key:"createEvent",value:function(){window.location.href="/create_event"}},{key:"render",value:function(){if(!this.loaded)return l.a.createElement("div",{className:"cards"},l.a.createElement("h2",null,"Loading Restaurants Data..."));var e=this.getRestaurants(this.state.restaurants);return 0==e.length?l.a.createElement("div",{className:"cards"},l.a.createElement("h3",null,"There are no recommendation found"),l.a.createElement("br",null),l.a.createElement("h3",null,"Have you created your preferences?"),l.a.createElement("br",null),l.a.createElement(h,{id:"createEvent",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:function(){return window.location.href="/create"}},"CREATE PREFERENCES")):l.a.createElement("div",{className:"cards"},l.a.createElement("h2",null,"Recommendations to you!"),l.a.createElement("div",{className:"cards__container"},l.a.createElement("div",{className:"cards__wrapper"},e.map(function(e){return e}))))}}]),t}(l.a.Component),ie=a(131),re=a.n(ie);function ce(){var e=window.location.search,t=new URLSearchParams(e),a=Object(n.useState)(null==t.get("name")?"":t.get("name")),o=Object(m.a)(a,2),i=o[0],r=o[1],c=Object(n.useState)(null==t.get("location")?"":t.get("location")),s=Object(m.a)(c,2),u=s[0],d=s[1],p=Object(n.useState)(new Date),g=Object(m.a)(p,2),E=g[0],v=g[1],f=Object(n.useState)(""),b=Object(m.a)(f,2),N=b[0],y=b[1];return l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},l.a.createElement("div",{className:"form-group login-attr",size:"lg",id:"name"},l.a.createElement("label",null,"Event name"),l.a.createElement("input",{className:"login-input",autoFocus:!0,type:"name",value:i,onChange:function(e){return r(e.target.value)}})),l.a.createElement("div",{className:"form-group login-attr",size:"lg",id:"location"},l.a.createElement("label",null,"Location"),l.a.createElement("input",{className:"login-input",type:"location",value:u,onChange:function(e){return d(e.target.value)}})),l.a.createElement("div",{className:"form-group login-attr",size:"lg",id:"description"},l.a.createElement("label",null,"Description"),l.a.createElement("input",{className:"login-input",type:"description",value:N,onChange:function(e){return y(e.target.value)}})),l.a.createElement("div",{className:"form-group login-attr",size:"lg",id:"datetime"},l.a.createElement("label",null,"Datetime"),l.a.createElement("div",null,l.a.createElement(re.a,{onChange:v,value:E}))),l.a.createElement(h,{id:"create_event",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:function(){var e=localStorage.getItem("token");Number.prototype.pad=function(e){for(var t=String(this);t.length<(e||2);)t="0"+t;return t};var t=E.getDate(),a=E.getMonth()+1,n=E.getFullYear(),l=E.toTimeString().split(" ")[0],o=n+"-"+a.pad()+"-"+t.pad()+"T"+l;fetch("/api/event/create/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token "+e},body:JSON.stringify({name:i,location:u,description:N,datetime:o})}).then(function(e){return e.json()}).then(function(e){"Token expired"==e.message||"Invalid token."==e.detail?(localStorage.clear(),window.location.href="/"):window.location.href="/event"})}},"CREATE EVENT"),l.a.createElement("div",{className:"seperator"})))}var se=function(e){function t(){var e;Object(S.a)(this,t),(e=Object(C.a)(this,Object(j.a)(t).call(this))).handleLogout=function(){localStorage.clear(),window.location.href="/"};var a=window.location.search,n=new URLSearchParams(a);return e.event_id=n.get("id"),e.user_id=localStorage.getItem("id"),e.token=localStorage.getItem("token"),e.state={name:"",datetime:"",location:"",description:"",host:"",attendees:[],inEvent:!1},e}return Object(k.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/event/get_event",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(this.token)},body:JSON.stringify({id:this.event_id})}).then(function(e){return e.json()}).then(function(t){var a;console.log(t),"Token expired"!=t.message&&"Invalid token."!=t.detail||e.handleLogout();var n="",l=!1,o=[];t.attendees.map(function(a){t.host==a.id&&(n=a.username),o.push(a.username),e.user_id==a.id&&(l=!0)});var i=t.name,r=new Date(t.datetime),c=r.getUTCFullYear()+"/"+("0"+(r.getUTCMonth()+1)).slice(-2)+"/"+("0"+r.getUTCDate()).slice(-2)+" "+("0"+r.getUTCHours()).slice(-2)+":"+("0"+r.getUTCMinutes()).slice(-2)+":"+("0"+r.getUTCSeconds()).slice(-2),s=t.location,m=t.description;e.setState((a={name:i,datetime:c,location:s,description:m},Object(y.a)(a,"description",m),Object(y.a)(a,"host",n),Object(y.a)(a,"attendees",o),Object(y.a)(a,"inEvent",l),a))})}},{key:"leaveEvent",value:function(){var e=this;fetch("/api/event/leave_event",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(this.token)},body:JSON.stringify({event_id:this.event_id,user_id:this.user_id})}).then(function(e){return e.json()}).then(function(t){"Token expired"!=t.message&&"Invalid token."!=t.detail||e.handleLogout(),console.log(t),window.location.href="/event"})}},{key:"joinEvent",value:function(){var e=this;fetch("/api/event/join_event",{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Token ".concat(this.token)},body:JSON.stringify({event_id:this.event_id,user_id:this.user_id})}).then(function(e){return e.json()}).then(function(t){console.log(t),"Token expired"!=t.message&&"Invalid token."!=t.detail||e.handleLogout(),window.location.href="/event"})}},{key:"render",value:function(){var e=this;return""==this.state.name?l.a.createElement(l.a.Fragment,null):l.a.createElement("div",{className:"cards"},l.a.createElement("h2",null,"Title : ",this.state.name),l.a.createElement("br",null),l.a.createElement("h2",null,"Date : ",this.state.datetime),l.a.createElement("br",null),l.a.createElement("h2",null,"Host : ",this.state.host),l.a.createElement("br",null),l.a.createElement("h2",null,"Location : ",this.state.location),l.a.createElement("br",null),l.a.createElement("h2",null,"Description : ",this.state.description),l.a.createElement("br",null),l.a.createElement("h2",null,"Attendees : ",this.state.attendees.map(function(e){return e+" "})),l.a.createElement("br",null),l.a.createElement(h,{id:"createEvent",buttonStyle:"btn--outline--black",buttonSize:"btn--full",onClick:this.state.inEvent?function(){return e.leaveEvent()}:function(){return e.joinEvent()}},this.state.inEvent?"LEAVE THIS EVENT":"JOIN THIS EVENT"))}}]),t}(l.a.Component);function me(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null,l.a.createElement(g,null),l.a.createElement(E.c,null,l.a.createElement(E.a,{path:"/",exact:!0,component:N}),l.a.createElement(E.a,{path:"/login",exact:!0,component:G}),l.a.createElement(E.a,{path:"/signup",exact:!0,component:te}),l.a.createElement(E.a,{path:"/recommend",exact:!0,component:oe}),l.a.createElement(E.a,{path:"/event",exact:!0,component:le}),l.a.createElement(E.a,{path:"/create_event",exact:!0,component:ce}),l.a.createElement(E.a,{path:"/event_details",exact:!0,component:se}),l.a.createElement(E.a,{path:"/create",exact:!0,component:M}),l.a.createElement(E.a,{path:"/setting",component:ee}))))}i.a.render(l.a.createElement(me,null),document.getElementById("root"))},32:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){}},[[145,1,2]]]);
//# sourceMappingURL=main.0302e0b3.chunk.js.map